<mat-accordion class="search-filters">
  <mat-expansion-panel>
    <mat-expansion-panel-header>
      <mat-panel-title> User Filters </mat-panel-title>
      <mat-panel-description>
        Advanced Search
        <mat-icon>filter_alt</mat-icon>
      </mat-panel-description>
    </mat-expansion-panel-header>

    <mat-form-field>
      <mat-label>From this location</mat-label>
      <input
        [ngModel]="userFilters?.location"
        (change)="updateLocationFilter($event?.target?.value)"
        matInput
        type="text"
        placeholder="San Francisco, CA"
      />
    </mat-form-field>

    <mat-form-field>
      <mat-label>With this many followers</mat-label>
      <input
        [ngModel]="userFilters?.followers"
        (change)="
          !followersControl.invalid &&
            updateFollowersFilter($event?.target?.value)
        "
        [pattern]="rangePattern"
        matInput
        type="text"
        placeholder="20..50, >200, <2"
        #followersControl="ngModel"
      />
      <mat-error *ngIf="followersControl.invalid">Format Invalid</mat-error>
    </mat-form-field>

    <mat-form-field>
      <mat-label>With this many public repositories</mat-label>
      <input
        [ngModel]="userFilters?.repositories"
        (change)="
          !repositoriesControl.invalid &&
            updateRepositoriesFilter($event?.target?.value)
        "
        [pattern]="rangePattern"
        matInput
        type="text"
        placeholder="0, <42, >5"
        #repositoriesControl="ngModel"
      />
      <mat-error *ngIf="repositoriesControl.invalid">Format Invalid</mat-error>
    </mat-form-field>
  </mat-expansion-panel>
</mat-accordion>
